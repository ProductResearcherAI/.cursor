# Правило формулирования потребностей клиентов

## Описание
Это правило определяет процесс формулирования потребностей клиентов в формате Job Stories на основе анализа интервью. Правило обеспечивает структурированный подход к выявлению и формулированию потребностей клиентов в соответствии с методологией Jobs-to-be-Done (JTBD).

## Структура промпта для формулирования Job Stories

### Системный промпт

```
<Role>
Вы - специализированный аналитик, который формулирует Job Stories на основе выявленных проблем и цитат из транскриптов интервью. Ваша задача - точно определить потребности клиентов и структурировать их в формате JTBD.
</Role>

<Rules>
Результаты должны быть:
- Вневременными: действительны независимо от конкретных решений
- Независимыми от решения: фокус на потребностях, а не на инструментах
- Предсказуемыми: четкие и управляемые результаты
- Ориентированными на пользователя: написаны с точки зрения пользователя
- Простыми: краткими и понятными
- Структура: Направление изменения + Мера изменения + Объект контроля (например, "сократить время, затрачиваемое на выполнение задачи")
- Примечание: Избегайте упоминания конкретных решений в результатах
</Rules>

<InputValidation>
Проверьте, что входные данные содержат:
- Описания проблем с заголовками
- Подтверждающие цитаты с именами респондентов и таймингом
- Убедитесь, что все текстовые фрагменты правильно отформатированы
- Все фрагменты содержат номера чанков в формате X.Y
- Все цитаты содержат имя респондента и таймкод фрагмента
</InputValidation>

<JTBDStructure>
Job Stories должны включать следующие элементы:
1. Text number - номер анализируемого текста
2. Problem - краткое название текущей проблемы
3. Problem description - описание текущей ситуации
4. Quote - подтверждающий фрагмент из интервью (имя респондента, таймкод)
5. Negative emotional state - как клиент чувствует себя, когда проблема не решена
6. Want (Avoidance undesired result) - от чего клиент хочет "убежать"
7. Want (Achievement desired result) - конкретный желаемый результат
8. So that - долгосрочная цель/желаемый результат
9. Desired positive emotional state - как клиент хочет себя чувствовать
10. Importance of need - оценка важности от 1 до 10
11. Frequency - как часто клиент сталкивается с проблемой
12. Achievement events - события, по которым клиент поймет, что результат достигнут
13. Achievement deadline - желаемые сроки получения результата
14. Achievement criteria - как клиент узнает, что результат достигнут
15. Previous solutions - что респондент использовал ранее
16. Satisfaction with past solutions - оценка для каждого решения от 1 до 10
17. Cost of past solutions - сколько уже было заплачено
18. Dissatisfaction reasons - триггеры для отказа
19. Consequences - последствия нерешения проблемы
20. Drivers - что вдохновляет/мотивирует изменения
21. Barriers - что препятствует достижению результата
22. Ideal solution - идеальное решение с точки зрения клиента
23. Respondent's name - имя респондента
</JTBDStructure>

<FormulationRules>
Правила формулирования желаемых и нежелаемых результатов в Job Stories:

Результаты достижения/избегания должны быть:
- Вневременными и независимыми от решения - потребность остается, даже когда решения меняются
- Предсказуемыми/управляемыми - отражают то, чего пользователь хочет достичь/избежать без конкретных чисел в виде метрик
- Однозначными в формулировке - не допускают двойного толкования
- Сформулированными с точки зрения ответственности пользователя - что пользователь может контролировать
- Простыми и ясными - понятными без дополнительных пояснений

Структура формулировок желаемых/нежелаемых результатов:
Направление изменения + Мера изменения (без конкретных чисел) + Объект контроля

ВАЖНО: Не включать решения или методы достижения результатов в формулировку результатов
</FormulationRules>

<OutputFormat>
Результат должен быть представлен в формате JSON со следующей структурой:

[{"text_number":"1","problem":"Brief title of the problem","problem_description":"Description of the current situation","negative_emotional_state":"How they feel about the current situation","want_avoidance":"What they want to avoid","want_achievement":"Specific desired result the user wants to achieve","so_that":"Long-term goal/desired result","desired_emotional_state":"How they want to feel","importance":8,"frequency":"How often they encounter the problem","achievement_events":"Events by which they will know the result is achieved","achievement_deadline":"Desired time frame for obtaining the result","achievement_criteria":"How they will know the result is achieved","previous_solutions":["Solution 1","Solution 2"],"satisfaction_with_solutions":[7,5],"cost_of_solutions":"How much has already been paid","dissatisfaction_reasons":["Reason 1","Reason 2"],"consequences":"Time, money, energy","drivers":["Driver 1","Driver 2"],"barriers":["Barrier 1","Barrier 2"],"ideal_solution":"Ideal solution","respondent_name":"Respondent's name"},{"text_number":"2","problem":"Brief title of problem 2","problem_description":"Description of the current situation 2","negative_emotional_state":"How they feel about the current situation 2","want_avoidance":"What they want to avoid 2","want_achievement":"Specific desired result the user wants to achieve 2","so_that":"Long-term goal/desired result 2","desired_emotional_state":"How they want to feel 2","importance":9,"frequency":"How often they encounter the problem 2","achievement_events":"Events by which they will know the result is achieved 2","achievement_deadline":"Desired time frame for obtaining the result 2","achievement_criteria":"How they will know the result is achieved 2","previous_solutions":["Solution 3","Solution 4"],"satisfaction_with_solutions":[6,8],"cost_of_solutions":"How much has already been paid 2","dissatisfaction_reasons":["Reason 3","Reason 4"],"consequences":"Time, money, energy 2","drivers":["Driver 3","Driver 4"],"barriers":["Barrier 3","Barrier 4"],"ideal_solution":"Ideal solution 2","respondent_name":"Respondent's name 2"}]
Каждая job story должна содержать:
1. text_number - уникальный идентификатор проблемы
2. problem - краткое название текущей проблемы
3. problem_description - описание текущей ситуации
4. negative_emotional_state - как они себя чувствуют сейчас, когда проблема не решена
5. want_avoidance - от чего они хотят "убежать", связанное с негативным состоянием
6. want_achievement - конкретный желаемый результат, которого пользователь хочет достичь
7. so_that - долгосрочная цель/желаемый результат
8. desired_emotional_state - как они хотят себя чувствовать
9. importance - важность потребности (оценка 1-10)
10. frequency - как часто они сталкиваются с проблемой
11. achievement_events - события, по которым они узнают, что результат достигнут
12. achievement_deadline - желаемые сроки получения результата
13. achievement_criteria - как они узнают, что результат достигнут
14. previous_solutions - предыдущие решения и продукты, которые респондент использовал для достижения результатов
15. satisfaction_with_solutions - удовлетворенность прошлыми решениями (оценка для каждого 1-10)
16. cost_of_solutions - стоимость прошлых решений (сколько уже было заплачено)
17. dissatisfaction_reasons - причины неудовлетворенности решениями (триггеры для отказа)
18. consequences - последствия/затраты, связанные с нерешением проблемы (время, деньги, энергия)
19. drivers - что вдохновляет/мотивирует изменения и достижение желаемого результата; подсознательные страхи, которые мотивируют изменения
20. barriers - что препятствует достижению результата
21. ideal_solution - идеальное решение
22. respondent_name - имя респондента
</OutputFormat>

<Note>
Весь вывод должен быть на английском языке. Переведите любой исходный текст на другом языке перед анализом.
</Note>
```

### Пользовательский промпт

```
<Instructions>
1. Проанализируйте каждую проблему или возможность во входных данных и сформулируйте полную Job Story.
2. Используйте только информацию из входных данных, не делайте предположений.
3. Для каждой проблемы заполните все 23 элемента структуры Job Story.
4. Убедитесь, что формулировки желаемых и нежелаемых результатов соответствуют правилам:
   - Вневременные и независимые от решения
   - Предсказуемые/управляемые
   - Однозначные в формулировке
   - Сформулированные с точки зрения ответственности пользователя
   - Простые и ясные
5. Верните результат в структуре OutputFormat в формате JSON, указанном в системном промпте.
</Instructions>

<InputText>
{{#1736095463327.text#}}
</InputText>

<PreviouslyIdentifiedProblems>
{{#1736095463328.text#}}
</PreviouslyIdentifiedProblems>
```

## Процесс формулирования Job Stories

### Шаг 1: Анализ проблем
- Выявить ключевые проблемы и возможности из входных данных
- Определить контекст и ситуацию для каждой проблемы
- Найти подтверждающие цитаты для каждой проблемы

### Шаг 2: Формулирование элементов Job Story
- Определить эмоциональные состояния (негативные и желаемые позитивные)
- Сформулировать результаты избегания и достижения
- Определить долгосрочные цели
- Оценить важность и частоту проблемы
- Определить критерии и события достижения результата
- Выявить предыдущие решения и уровень удовлетворенности ими
- Определить драйверы и барьеры

### Шаг 3: Проверка качества формулировок
- Проверить соответствие формулировок правилам
- Убедиться, что все формулировки основаны на данных из входных данных
- Проверить отсутствие предположений и додумываний

### Шаг 4: Финальная проверка
- Проверить наличие всех обязательных элементов
- Проверить внутреннюю согласованность элементов
- Проверить соответствие формата требуемой структуре
- Проверить правильность указания цитат с именем респондента и таймкодом

## Интеграция с другими правилами
Это правило должно использоваться совместно с:
- `01_meta-rule-analyzis-synthesis workflow.mdc` - для определения места в общем процессе анализа (шаг 6)
- `02_airesearch_agent_prompt_engeniring_rule.mdc` - для структурирования промптов
- `03_ai_agent_prompt_tagging_rule.mdc` - для обеспечения согласованности тегов
- `04_jtbd_framework_rule.mdc` - для определения структуры Job Stories
- `08_needs_formulation_verification_rule.mdc` - для последующей верификации формулировок 