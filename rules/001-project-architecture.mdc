---
description: Project folder structure and file organization template for initialization. Use this rule to set up folders, track files across workflow stages, and maintain consistent documentation standards throughout the research process.
globs: 
alwaysApply: false
---

<rule_title>Архитектура проекта и принципы взаимодействия</rule_title>

<folder_structure>Структура папок проекта

```
project/
├── 0_business_task/
│   ├── business_task.md (содержит бизнес-задачу и перечень исследовательских вопросов)
│   ├── analysis_framework.md (содержит фреймворк анализа результатов)
│   ├── docx/
│   │   ├── business_task.docx
│   │   ├── research_questions.docx
│   │   └── analysis_framework.docx
├── interview_preparation/
│   ├── interview_guide.md
│   ├── follow_up_messages.md
│   ├── respondent_list.md
│   └── personalized_messages.md
├── synthetic_1_[timestamp]/
│   ├── interview_responses.md (гайд + ответы на вопросы с уточняющими вопросами + выявленные гипотезы потребностей)
├── synthetic_2_[timestamp]/
│   ├── interview_responses.md
├── interviews_analysis/
│   ├── respondent1_[researcher]_[timestamp]/
│   │   ├── transcript.md (транскрибация)
│   │   ├── cleaned_transcript.md (очищенный текст транскрибации)
│   │   ├── interview_questions.md (изначальные + вопросы из экстракции транскрибации)
│   │   ├── interview_answers.md (заполненные вопросы ответами с таймингом цитатами)
│   │   ├── conclusions.md (выводы о потребностях на основании фреймворка)
│   │   ├── needs.csv (потребности респондента в формате CSV таблицы)
│   │   └── text
│   │       ├── transcript.txt
│   │       ├── interview_responses.txt
│   │       └── conclusions.txt 
            └── ... 
│   ├── respondent2_[researcher]_[timestamp]/
│       └── ... (аналогичная структура)
└── synthesis/
    ├── synthesis_[respondents]_[timestamp]/
    │   ├── needs_map.csv (сводная карта потребностей)
    │   ├── synthesis_documentation.md (документация какие респонденты были включены и как был построен процесс синтеза)
    │   └── txt
    │       └── synthesis_documentation.txt
├── Framework_structure.md (содержит утвержденный фреймворк потребностей, например JTBD)
├── LOG.md (лог проекта с записями о статусе и созданных/измененных файлах)
├── Structure.md (запись о текущей структуре проекта (папках и созданных в ней файлах с пояснением к каким этапам правила 01 какие файлы относятся))
├── Project_Steps.md (этапы проекта в том числе текущий этап проекта согласно правилу 01_meta-rule-analyzis-synthesis workflow.mdc с отметкой о выполненных и текущих этапах)
```
</folder_structure>

<stages_mapping>Соответствие этапов правила 01 '1_meta-rule-analyzis-synthesis workflow.mdc' и папок/файлов проекта

Этап 1: Определение исследовательских целей, бизнес-проблемы и ограничений
- **Папки и файлы**: 
  - `0_business_task/business_task.md` - бизнес-задача, цели исследования и исследовательские вопросы
  - `LOG.md` - начальная запись о создании проекта
  - `Structure.md` - начальная запись о структуре проекта

Этап 2: Определение исследовательских вопросов
- **Папки и файлы**: 
  - `0_business_task/business_task.md` - дополняется исследовательскими вопросами
  - `LOG.md` - запись об определении исследовательских вопросов
  - `Structure.md` - обновление с указанием актуальной структуры проекта

Этап 3: Определение вопросов интервью
- **Папки и файлы**: 
  - `interview_preparation/interview_guide*.md` - черновики гайдов с вопросами по сегментам
  - `LOG.md` - запись о создании вопросов интервью
  - `Structure.md` - обновление с добавлением новых файлов и их связи с этапом 3

Этап 4: Определение фреймворка для потребностей пользователей
- **Папки и файлы**: 
  - `Framework_structure.md` - файл с описанием утвержденного фреймворка
  - `LOG.md` - запись о выборе фреймворка
  - `Structure.md` - обновление с добавлением файла фреймворка

Этап 5: Создание гайда интервью
- **Папки и файлы**: 
  - `interview_preparation/interview_guide.md` - финальная версия гайда
  - `LOG.md` - запись о создании гайда интервью
  - `Structure.md` - обновление с указанием финальной версии гайда

Этап 6: Тестовое интервью с синтетическим респондентом
- **Папки и файлы**: 
  - `synthetic_1_[timestamp]/interview_responses.md` - результаты тестового интервью
  - `LOG.md` - запись о проведении тестового интервью
  - `Structure.md` - обновление с добавлением папки и файлов тестового интервью

Этап 6.1: Создание интро и фоллоу-ап сообщений
- **Папки и файлы**: 
  - `interview_preparation/follow_up_messages.md` - шаблоны сообщений
  - `LOG.md` - запись о создании сообщений
  - `Structure.md` - обновление с добавлением файлов сообщений

Этап 6.2: Персонализированная коммуникация с респондентами
- **Папки и файлы**: 
  - `interview_preparation/respondent_list.md` - список респондентов
  - `interview_preparation/personalized_messages.md` - персонализированные сообщения
  - `LOG.md` - запись о создании персонализированных сообщений
  - `Structure.md` - обновление с добавлением файлов персонализации

Этапы 7-8: Определение границ исследования и подготовка историй общения
- **Папки и файлы**: 
  - `interviews_analysis/respondentX/transcript.md` - исходные транскрипции
  - `interviews_analysis/respondentX/cleaned_transcript.md` - очищенные транскрипции
  - `LOG.md` - запись о подготовке и очистке транскрипций
  - `Structure.md` - обновление с добавлением папок и файлов анализа интервью

Этапы 9-10: Анализ историй и идентификация цитат
- **Папки и файлы**: 
  - `interviews_analysis/respondentX/interview_questions.md` - структурированные вопросы интервью
  - `interviews_analysis/respondentX/interview_answers.md` - заполненные вопросы с цитатами
  - `LOG.md` - запись об анализе и распределении цитат
  - `Structure.md` - обновление с указанием файлов с цитатами

Этапы 11-13: Формулировка и верификация потребностей клиентов
- **Папки и файлы**: 
  - `interviews_analysis/respondentX/conclusions.md` - выводы о потребностях
  - `interviews_analysis/respondentX/needs.csv` - структурированные потребности
  - `LOG.md` - запись о формулировке потребностей
  - `Structure.md` - обновление с добавлением файлов выводов и потребностей

Этапы 14-15: Структурирование знаний и подготовка к синтезу
- **Папки и файлы**: 
  - Обновления в файлах `interviews_analysis/respondentX/conclusions.md`
  - `LOG.md` - запись о структурировании знаний
  - `Structure.md` - обновление с указанием изменений в файлах выводов

Этапы 16-17: Синтез знаний и проверка результатов
- **Папки и файлы**: 
  - `synthesis/synthesis_[respondents]_[timestamp]/needs_map.md` - сводная карта потребностей
  - `synthesis/synthesis_[respondents]_[timestamp]/synthesis_documentation.md` - документация
  - `LOG.md` - запись о синтезе потребностей
  - `Structure.md` - обновление с добавлением папки и файлов синтеза

Этапы 18-19: Подбор и верификация подтверждающих цитат
- **Папки и файлы**: 
  - Обновления в `synthesis/synthesis_[respondents]_[timestamp]/needs_map.md`
  - `LOG.md` - запись о подборе цитат
  - `Structure.md` - обновление с указанием изменений в файлах синтеза

Этапы 20-21: Сенсмейкинг и подготовка к решенческим интервью
- **Папки и файлы**: 
  - Новые файлы в папке `synthesis` для продуктовых гипотез
  - `LOG.md` - запись о формулировке продуктовых гипотез
  - `Structure.md` - обновление с добавлением файлов продуктовых гипотез

На всех этапах проекта
- **Обязательные файлы для обновления**:
  - `LOG.md` - запись о выполненных действиях и текущем статусе проекта
  - `Structure.md` - актуальная структура проекта с указанием всех созданных файлов и их соответствием этапам процесса согласно правилу 01_meta-rule-analyzis-synthesis workflow.mdc
  - `Project_Steps.md` - отметка о текущем этапе проекта согласно правилу 01_meta-rule-analyzis-synthesis workflow.mdc с отметкой о выполненных и текущих этапах
</stages_mapping>

<technical_rules>Важные технические правила взаимодействия с файлами проекта

1. Запрет на создание дублирующих файлов
   - Строго запрещено создавать новые промпты и правила, если уже существуют аналогичные
   - Перед созданием нового файла обязательно проверять наличие существующего
   - При обнаружении существующего файла - модифицировать его, а не создавать новый

2. Инкрементальный подход к чтению и редактированию файлов
   - При работе с длинными файлами использовать чтение по частям
   - Разбивать файл на логические секции при чтении (по 50-100 строк)
   - Сохранять контекст между чтениями разных частей файла

3. Стратегия при возникновении таймаута
   - При первом таймауте уменьшить размер читаемого фрагмента в 2 раза
   - При повторном таймауте перейти к прямому редактированию файла
   - Использовать знание о структуре файла из предыдущих успешных операций

4. Техника редактирования
   - Использовать точечные изменения вместо полной перезаписи
   - Сохранять оригинальное форматирование и структуру
   - При необходимости полной перезаписи секции:
     * Четко обозначать начало и конец изменяемой секции
     * Использовать маркеры существующего кода
     * Сохранять идентичное форматирование

5. Проверка после редактирования
   - Валидировать синтаксическую корректность внесенных изменений
   - Проверять логическую целостность документа
   - Убедиться в сохранении всех ключевых элементов

6. Согласованность между файлами
   - При обновлении формата в одном файле обновлять все связанные файлы
   - Поддерживать единую структуру во всех связанных файлах проекта
   - Обновлять лог проекта после каждого значимого изменения
</technical_rules>

<version>1.8.0</version> 
   - Поддерживать единую структуру во всех связанных файлах проекта
   - Обновлять лог проекта после каждого значимого изменения
</technical_rules>

<version>1.8.0</version> 