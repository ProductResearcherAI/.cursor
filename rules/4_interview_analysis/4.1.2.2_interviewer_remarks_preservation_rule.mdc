---
description: 
globs: 
alwaysApply: false
---
<rule_metadata>
description: Rule for preserving interviewer remarks in interview transcriptions while standardizing formatting and cleaning the content
globs: **/*.{md,txt}
alwaysApply: false
</rule_metadata>

<rule_title>Правило сохранения и обработки реплик интервьюера в транскрибациях</rule_title>

<rule_context>
Данное правило применяется для создания полных транскрибаций интервью с сохранением контекста вопросов и ценных инсайтов исследователя, при условии стандартизации форматирования и очистки содержания.
</rule_context>

<version>1.0</version>

<application_goal>
Создание очищенной, но полной транскрибации интервью, сохраняющей контекст вопросов исследователя и его ценные наблюдения, в стандартизированном формате для последующего анализа.
</application_goal>

<processing_steps>

## 1. Идентификация и стандартизация именования спикеров

1.1. **Идентификация респондента:** Заменить идентификатор спикера респондента (например, `Speaker 1`, имя или другой идентификатор) на стандартный формат `Респондент (имя_респондента):`, где имя_респондента - актуальное имя или псевдоним респондента.

1.2. **Идентификация исследователя:** Заменить идентификатор спикера интервьюера (например, `Speaker 0`, имя интервьюера или другой идентификатор) на стандартный формат `Исследователь:`.

## 2. Сохранение структуры и таймкодов

2.1. **Сохранение таймкодов:** Сохранить все таймкоды как для респондента, так и для исследователя.

2.2. **Единый формат реплик:** Использовать единый формат для всех реплик: `Роль: [ЧЧ:ММ:СС.мс] Текст реплики`.

## 3. Обработка реплик Исследователя

3.1. **Вопросы:** Сохранять полностью все вопросы исследователя, предваряя их `Исследователь: [таймкод]`.

3.2. **Комментарии и уточнения:**
   - **Для восстановления контекста кратких ответов:** Если комментарий необходим для понимания краткого/односложного ответа респондента (например, "да", "нет", число), интегрировать его смысл в ответ респондента, взяв добавление в квадратные скобки. Применять только для восстановления очевидного контекста кратких ответов.
   
   *Пример:*
   ```
   Исследователь: [00:10:05.123] Сколько вам лет?
   Респондент: [00:10:06.456] 12.
   ```
   *Результат:*
   ```
   Исследователь: [00:10:05.123] Сколько вам лет?
   Респондент: [00:10:06.456] [Мне] 12 [лет].
   ```

   - **Интерпретации и выводы:** Если комментарий является интерпретацией или выводом исследователя (мета-комментарии о ходе интервью или предположения), сохранить его отдельной строкой с пометкой `[Вывод исследователя: [таймкод] Текст вывода]`.
   
   - **Обычные комментарии:** Остальные комментарии, уточнения, подтверждения ("ага", "угу", "понял") сохранять как есть, с меткой `Исследователь: [таймкод]`.

## 4. Обработка реплик Респондента

4.1. **Форматирование реплик:** Предварять каждую реплику респондента стандартным префиксом `Респондент (имя_респондента): [таймкод]`.

4.2. **Легкая очистка текста реплик респондента:**
   - Удалить слова-паразиты ("ну", "вот", "как бы", "типа", "знаешь", "в общем", "короче", "наверное", "то есть", "просто")
   - Удалить незначащие междометия ("эм", "хм", "э-э", "а-а")
   - Удалить незначащие повторы слов или фраз ("я, я думаю" -> "я думаю")
   - Удалить заполнители пауз ("так сказать", "я имею в виду")

4.3. **Строго сохранять:**
   - Смысл сказанного респондентом
   - Стиль речи респондента (не перефразировать полностью)
   - Эмоциональные выражения
   - Описания проблем, целей, контекста
   - Специфические термины, названия

4.4. **Разделение смешанных реплик:** **ВАЖНО!** Если в тексте реплики респондента обнаружены включенные ответы или комментарии исследователя (например, "Да, да, да" в ответ на уточняющий вопрос), эти части должны быть вынесены в отдельную строку с меткой `Исследователь: [таймкод]`, сохраняя логическую связность и смысл исходного ответа респондента.

## 5. Обработка неясных мест и корректура

5.1. **Неразборчивые фрагменты:** Заменять неразборчивые или нецензурные фрагменты речи на маркер `[неразборчиво]`.

5.2. **Корректура:**
   - Проверить грамматическую и стилистическую корректность
   - Убедиться в ясности, читаемости и завершенности каждого предложения (например, исправить "основным заказываю для себя" на "Заказываю в основном для себя")
   - Исправить очевидные опечатки или ошибки согласования
   - **СТРОГО ЗАПРЕЩЕНО:** Искажать смысл, добавлять факты, которых не было в речи, делать собственную интерпретацию (кроме `[Вывод исследователя: ...]`)

## 6. Финальная проверка

6.1. **Проверка фактов:** Убедиться, что не были подменены или добавлены факты.

6.2. **Проверка атрибуции:** Проверить сохранение всех таймкодов и правильную атрибуцию спикеров.

6.3. **Проверка разделения реплик:** Убедиться, что все реплики исследователя помечены как `Исследователь:`, а респондента - как `Респондент (имя_респондента):`, и отсутствуют смешанные реплики.

6.4. **Проверка сохранения деталей:** Убедиться, что в процессе очистки и корректуры не были утеряны существенные факты или детали из оригинальной транскрибации.

</processing_steps>

<expected_outcome>
Полная очищенная транскрибация интервью в стандартизированном формате, сохраняющая контекст вопросов исследователя и его ценные наблюдения, готовая для анализа с учетом полного контекста интервью.
</expected_outcome>

<quality_criteria>
- Правильная атрибуция всех реплик (Исследователь: и Респондент (имя):)
- Сохранение всего смыслового содержания интервью
- Четкое разделение реплик разных спикеров
- Читаемость и грамматическая корректность текста
- Сохранение ценных инсайтов исследователя в формате `[Вывод исследователя: ...]`
- Отсутствие смешанных реплик
</quality_criteria>

